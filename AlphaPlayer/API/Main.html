<!DOCTYPE html>
<html>
<head>
    <title>Now playing - </title>
    <meta charset='utf-8' />
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/css/bootstrap-slider.min.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <script type="text/javascript">
        $(document).ready(function () {
                var originalVal;
                
                $('#ex1').slider({
                    formatter: function (value) {
                        $("#precentage").html(value);
                    }
                });

                $('#ex1').slider().on('slideStart', function (ev) {
                    originalVal = $('#ex1').data('slider').getValue();
                });

                $('#ex1').slider().on('slideStop', function (ev) {
                    var newVal = $('#ex1').data('slider').getValue();
                    if (originalVal != newVal) {
                        $.get("/SetVolume/" + newVal);
                    }
                });

                $('#play').on('click', function () {
                    $.get("/Play");
                });

                $('#pause').on('click', function () {
                    $.get("/Pause");
                });

                $('#next').on('click', function () {
                    $.get("/Next");
                });

                $('#prev').on('click', function () {
                    $.get("/Previous");
                });

                setInterval(function () {
                    $.get("/GetName", function (data) {
                        $("#now-playing").html(data);
                        $("title").html("Now playing - " + data);
                    });

                    $.get("/GetVolume", function (data) {
                        $("#precentage").html(data);
                        $('#ex1').slider('setValue', data);
                    });
                }, 1000);
            });
    </script>
</head>
<body>
    <p>Now Playing: <span id='now-playing'></span></p>
    <button id='play'>
        <i class="fa fa-play" aria-hidden="true">
    </i></button>
    <button id='pause'>
        <i class="fa fa-pause" aria-hidden="true"></i>
    </button>
    <button id='prev'>
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
    </button>
    <button id='next'>
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
    </button>
    <input id="ex1" data-slider-id='ex1Slider' type="text" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="14" /> <span id="precentage"></span>
</body>
</html>